# 美姫命 - 予約・担当管理システム UI設計書

このドキュメントでは、美姫命アプリケーションの予約・担当管理システムのユーザーインターフェースについて詳細に説明します。

## 目次

1. [デザイン概要](#デザイン概要)
2. [カラーパレット](#カラーパレット)
3. [タイポグラフィ](#タイポグラフィ)
4. [コンポーネント設計](#コンポーネント設計)
5. [画面フロー](#画面フロー)
6. [レスポンシブデザイン](#レスポンシブデザイン)
7. [アクセシビリティ](#アクセシビリティ)
8. [プロトタイプ](#プロトタイプ)

## デザイン概要

予約・担当管理システムのUIは、サロンスタッフが効率的に予約の確認、スタイリストの割り当て、タイムスロットの管理ができるように設計されています。四柱推命に基づく相性スコアを視覚的に表現し、直感的な操作でスタイリスト割り当てを行えることを重視しています。

### デザインの基本原則

1. **直感的な操作性**: 最小限のクリックで目的のタスクを完了できるUIフロー
2. **五行に基づく視覚表現**: 木・火・土・金・水の五行要素をカラーコードで表現
3. **情報の階層化**: 重要度に応じた情報の表示と整理
4. **モダンで専門的な印象**: 高級美容サロンにふさわしい洗練されたデザイン
5. **効率性**: 予約管理とスタイリスト割り当ての効率化を支援するUI要素

## カラーパレット

### 基本カラー

- **プライマリカラー**: `#584B53` (ダークパープル) - アプリ全体のメインカラー
- **セカンダリカラー**: `#9D5C63` (ローズ) - アクセントやボタン、重要な操作要素
- **バックグラウンド**: `#FEF5EF` (オフホワイト) - 背景色
- **テキスト（ダーク）**: `#333333` - 主要テキスト
- **テキスト（ライト）**: `#FFFFFF` - ボタンや暗い背景上のテキスト

### 五行要素カラー

予約カードや相性スコア表示などに使用される五行の色:

- **木（もく）**: `#4CAF50` (グリーン)
- **火（か）**: `#F44336` (レッド)
- **土（ど）**: `#FFC107` (イエロー)
- **金（きん）**: `#FFEB3B` (ゴールド)
- **水（すい）**: `#2196F3` (ブルー)

### ステータスカラー

予約ステータスを示すためのカラー:

- **予約済み**: `#3F51B5` (インディゴ)
- **完了**: `#4CAF50` (グリーン)
- **キャンセル**: `#F44336` (レッド)
- **無断キャンセル**: `#FF9800` (オレンジ)

### 相性スコアカラー

相性スコアを視覚的に表現するためのグラデーションカラー:

- **高相性 (80-100%)**: `#4CAF50` (グリーン)
- **中高相性 (60-79%)**: `#8BC34A` (ライトグリーン)
- **中相性 (40-59%)**: `#FFC107` (イエロー)
- **低相性 (0-39%)**: `#FF5722` (ディープオレンジ)

## タイポグラフィ

### フォントファミリー

- **見出し**: 'Noto Sans JP', sans-serif (ウェイト: 700)
- **本文**: 'Noto Sans JP', sans-serif (ウェイト: 400, 500)
- **アクセント**: 'Zen Maru Gothic', sans-serif (特定の要素に使用)

### フォントサイズ

- **H1 (ページタイトル)**: 28px
- **H2 (セクションタイトル)**: 24px
- **H3 (カードタイトルなど)**: 20px
- **本文 (標準)**: 16px
- **本文 (小)**: 14px
- **キャプション/補足**: 12px

## コンポーネント設計

### 1. ナビゲーション

#### 1.1 トップナビゲーションバー

![トップナビゲーションバー](../mockups/beauty-appointment-management.html#top-nav)

- サロンロゴ (左端)
- ページタイトル「予約・担当管理」(中央)
- ユーザーアバターとドロップダウンメニュー (右端)
- 通知アイコンとカウンター (右側)

#### 1.2 日付セレクター

![日付セレクター](../mockups/beauty-appointment-management.html#date-selector)

- 左右の矢印で日付移動
- 今日ボタン
- カレンダーピッカーアイコン
- 選択中の日付表示（年月日と曜日）

### 2. 予約管理

#### 2.1 予約カード

![予約カード](../mockups/beauty-appointment-management.html#appointment-card)

**スタイリスト割り当て済み**:
- クライアント名 (太字)
- 予約時間
- サービス内容
- 予約ステータスチップ
- 担当スタイリストアバターと名前
- 相性スコアインジケーター
- アクションボタン (編集、削除)

**スタイリスト未割り当て**:
- クライアント名 (太字)
- 予約時間
- サービス内容
- 予約ステータスチップ
- 「担当者割り当て」ボタン
- アクションボタン (編集、削除)

カードのスタイル:
- 角丸の白いカード
- 影効果 (elevation: 2)
- ホバー時に軽い強調効果
- 左側に五行属性に対応した薄いカラーバー

#### 2.2 タイムスロットグリッド

![タイムスロットグリッド](../mockups/beauty-appointment-management.html#timeslot-grid)

- 時間軸 (縦)：営業時間内の30分刻み
- スタイリスト軸 (横)：各スタイリストの列
- 予約ブロック：
  - 五行属性に応じた色で塗りつぶし
  - クライアント名表示
  - サービス内容のアイコン表示
  - ドラッグ＆ドロップで移動可能
  - クリックで詳細表示

### 3. モーダルダイアログ

#### 3.1 スタイリスト割り当てモーダル

![スタイリスト割り当てモーダル](../mockups/beauty-appointment-management.html#stylist-assignment-modal)

- モーダルタイトル「担当スタイリストの割り当て」
- クライアント情報サマリー
- スタイリストリスト：
  - スタイリストアバターと名前
  - 相性スコア（視覚的インジケーター付き）
  - 割り当てボタン
- 「閉じる」ボタン

#### 3.2 予約編集モーダル

![予約編集モーダル](../mockups/beauty-appointment-management.html#edit-appointment-modal)

- モーダルタイトル「予約編集」
- フォームフィールド：
  - クライアント選択（非編集）
  - 日付選択
  - 時間選択（開始・終了）
  - サービス選択（ドロップダウン）
  - スタイリスト選択（ドロップダウン、相性スコア表示）
  - メモ入力（テキストエリア）
  - ステータス選択（ラジオボタン）
- アクションボタン：「保存」と「キャンセル」

#### 3.3 カレンダー同期モーダル

![カレンダー同期モーダル](../mockups/beauty-appointment-management.html#calendar-sync-modal)

- モーダルタイトル「カレンダー同期」
- 同期元選択（Google/Apple）
- 同期ステータス表示
- 同期履歴表示
- 最終同期日時
- アクションボタン：「同期開始」と「閉じる」

### 4. フィルターとコントロール

#### 4.1 フィルターパネル

![フィルターパネル](../mockups/beauty-appointment-management.html#filter-panel)

- 日付範囲選択
- ステータスフィルター（チップ選択式）
- スタイリストフィルター（ドロップダウン）
- サービスフィルター（ドロップダウン）
- フィルターリセットボタン

#### 4.2 表示切替コントロール

![表示切替コントロール](../mockups/beauty-appointment-management.html#view-switch)

- リスト表示 / グリッド表示切替タブ
- 日表示 / 週表示 / 月表示切替（グリッド表示時）

### 5. カレンダー同期コントロール

![カレンダー同期コントロール](../mockups/beauty-appointment-management.html#calendar-sync-control)

- 「カレンダー同期」ボタン（右上）
- 同期プロバイダーアイコン（Google/Apple）
- 最終同期ステータスインジケーター

## 画面フロー

### メイン画面フロー

1. **予約ダッシュボード画面**
   - 日付選択
   - 表示形式選択（リスト/グリッド）
   - フィルター適用

2. **予約詳細フロー**
   - 予約カードクリック → 詳細表示
   - 編集ボタン → 編集モーダル → 保存/キャンセル → 予約ダッシュボード
   - 削除ボタン → 確認ダイアログ → 削除/キャンセル → 予約ダッシュボード

3. **スタイリスト割り当てフロー**
   - 「担当者割り当て」ボタン → スタイリスト割り当てモーダル
   - スタイリスト選択 → 割り当て → 予約ダッシュボード（更新）

4. **カレンダー同期フロー**
   - 「カレンダー同期」ボタン → 同期プロバイダー選択
   - プロバイダー認証 → 同期実行 → 同期結果表示

### ユーザー体験マップ

```
[予約ダッシュボード] 
    ├── [日付選択] → 特定日の予約表示
    │
    ├── [フィルター適用] → フィルター条件に合った予約表示
    │
    ├── [表示切替] → リスト/グリッド表示切替
    │
    ├── [予約カード] 
    │    ├── [詳細表示] → 予約詳細情報
    │    ├── [編集] → 編集モーダル → 保存
    │    └── [削除] → 確認ダイアログ → 削除
    │
    ├── [担当者割り当て]
    │    └── [スタイリスト選択] → 相性スコア確認 → 割り当て
    │
    └── [カレンダー同期]
        └── [プロバイダー選択] → 認証 → 同期実行 → 結果表示
```

## レスポンシブデザイン

### ブレークポイント

- **モバイル**: < 600px
- **タブレット**: 600px - 960px
- **デスクトップ**: > 960px

### モバイル対応

- 単一カラムレイアウトに変更
- 日付セレクターをスライド式に変更
- フィルターをコラプシブルパネルに格納
- 予約カードの情報を整理し、重要な情報のみ表示
- スワイプでの予約間移動
- ボトムナビゲーションバーの追加

### タブレット対応

- 2カラムまたはグリッドレイアウト
- 日付と予約リストの並列表示
- フィルターパネルの固定表示（左側）

### デスクトップ最適化

- 3カラムレイアウト（フィルター、予約リスト、詳細表示）
- タイムスロットグリッドの拡大表示
- ドラッグ＆ドロップ機能の強化
- ホットキーサポート

## アクセシビリティ

### カラーコントラスト

- テキストとバックグラウンドのコントラスト比は4.5:1以上を確保
- フォーカス状態の視覚的明示
- 相性スコアの表現を色だけでなく数値と形状でも表現

### キーボードナビゲーション

- すべての操作をキーボードで実行可能に
- フォーカス順序の適切な設定
- ショートカットキーの実装

### スクリーンリーダー対応

- 適切なARIAラベルの使用
- 意味のある見出し構造
- 状態変化の通知

## プロトタイプ

### 予約ダッシュボード（リスト表示）

```
+-------------------------------------------------------+
|  Logo  | 予約・担当管理                   🔔 👤     |
+-------------------------------------------------------+
|                      <  2025年5月1日(木)  >           |
+-------------------------------------------------------+
| [ﾌｨﾙﾀｰ] | [ﾘｽﾄ表示][ｸﾞﾘｯﾄﾞ表示]    [カレンダー同期]   |
+----------+-------------------------------+------------+
|          |                               |            |
|  日付    |  ┌───────────────┐  |            |
|  選択    |  │ テスト太郎様             │  |            |
|          |  │ 10:00-11:00 カット       │  |            |
|  2025    |  │ [予約済み]               │  |            |
|  5月     |  │ スタイリストA 相性:85%   │  |            |
|          |  │ [編集] [削除]            │  |            |
|  1 木    |  └───────────────┘  |            |
|  2 金    |                               |            |
|  3 土    |  ┌───────────────┐  |            |
|  4 日    |  │ 山田花子様               │  |            |
|  5 月    |  │ 13:00-14:30 カラー       │  |            |
|  6 火    |  │ [予約済み]               │  |            |
|  7 水    |  │ [担当者割り当て]         │  |            |
|          |  │ [編集] [削除]            │  |            |
|  ステータス|  └───────────────┘  |            |
|          |                               |            |
|  [全て]  |  ┌───────────────┐  |            |
|  [予約済]|  │ 佐藤次郎様               │  |            |
|  [完了]  |  │ 15:00-16:00 パーマ       │  |            |
|  [ｷｬﾝｾﾙ] |  │ [完了]                   │  |            |
|          |  │ スタイリストB 相性:62%   │  |            |
|          |  │ [編集] [削除]            │  |            |
|          |  └───────────────┘  |            |
+----------+-------------------------------+------------+
```

### スタイリスト割り当てモーダル

```
+-----------------------------------------------+
|           担当スタイリストの割り当て          ×  |
+-----------------------------------------------+
|  山田花子様の予約にスタイリストを割り当てます    |
|                                               |
|  ┌─────────────────────┐  |
|  │ スタイリストA                          │  |
|  │ 相性スコア: 85%                  [割り当て] │  |
|  └─────────────────────┘  |
|                                               |
|  ┌─────────────────────┐  |
|  │ スタイリストB                          │  |
|  │ 相性スコア: 70%                  [割り当て] │  |
|  └─────────────────────┘  |
|                                               |
|  ┌─────────────────────┐  |
|  │ スタイリストC                          │  |
|  │ 相性スコア: 45%                  [割り当て] │  |
|  └─────────────────────┘  |
|                                               |
|                                    [閉じる]   |
+-----------------------------------------------+
```

### タイムスロットグリッド表示

```
+--------------------------------------------------------------+
|  Logo  | 予約・担当管理                              🔔 👤  |
+--------------------------------------------------------------+
|                     <  2025年5月1日(木)  >                   |
+--------------------------------------------------------------+
| [ﾌｨﾙﾀｰ] | [ﾘｽﾄ表示][ｸﾞﾘｯﾄﾞ表示]               [カレンダー同期] |
+----------+----------------------------------------------------+
|          |  時間 | スタイリストA | スタイリストB | スタイリストC  |
|  日付    | -----|-------------|-------------|------------- |
|  選択    |  9:00|             |             |              |
|          | -----|-------------|-------------|------------- |
|  2025    |  9:30|             |             |              |
|  5月     | -----|-------------|-------------|------------- |
|          | 10:00| テスト太郎様  |             |              |
|  1 木    | -----|  カット     |             |              |
|  2 金    | 10:30|  85%        |             |              |
|  3 土    | -----|-------------|-------------|------------- |
|  4 日    | 11:00|             |             |              |
|  5 月    | -----|-------------|-------------|------------- |
|  6 火    | 11:30|             |             |              |
|  7 水    | -----|-------------|-------------|------------- |
|          | 12:00|             |             |              |
|  ステータス| -----|-------------|-------------|------------- |
|          | 12:30|             |             |              |
|  [全て]  | -----|-------------|-------------|------------- |
|  [予約済]| 13:00|             | 山田花子様   |              |
|  [完了]  | -----|             |  カラー     |              |
|  [ｷｬﾝｾﾙ] | 13:30|             |  未割当     |              |
|          | -----|             |             |              |
|          | 14:00|             |             |              |
+----------+----------------------------------------------------+
```

これらのデザイン仕様に基づいて実装することで、使いやすく美姫命の美的センスを反映した予約・担当管理システムが構築できます。